
{% extends 'template.html' %}

{% block content %}

	<h1>Document-Document Similarity Searcher</h1>
	<form action="/docsim" method="POST">
		<input type="text" name="text_sim">
		<input type="submit" name="my-form" value="Search">
	</form>

{% if text_sim %}
<h3>You searched for "{{text_sim}}"</h3>
<h3>These are the results of the document similarity search: </h3>
<div>
	{% for item in result2:%}
	<li>
		{{item[0]}}:{{item[1]}}:{{item[3]}} : <!-- Trigger/Open The Modal -->
			<p align="left">
			<button id="myBtn">View Full Text</button>

			<!-- The Modal -->
			<div id="myModal" class="modal">

			  <!-- Modal content -->
			  <div class="modal-content">
			    <div class="modal-header">
			      <span class="close">&times;</span>
			      <h2>Document # {{item[0]}}</h2>
			    </div>
			    <div class="modal-body">
			      <p>{{ item[2] }}</p>
			    </div>
			    <div class="modal-footer">
			    	<p><a href="/docsim">Save This Document</a></p>
			    </div>
			  </div>

			</div>
			</p>
	</li>
	{% endfor %}
</div>
{% endif %}

<script>
// Get the modal
var modal = document.getElementById('myModal');

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
    modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}
</script>

{% endblock %}


<!-- NEED TO WIDEN/EXTEND SEARCH BAR -->
